(this["webpackJsonpxoa-comment"]=this["webpackJsonpxoa-comment"]||[]).push([[0],{191:function(e,t,n){e.exports=n(389)},196:function(e,t,n){},197:function(e,t,n){},389:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),o=n(8),l=n.n(o);n(196),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var r=n(89),i=n(90),s=n(98),u=n(91),m=n(100),d=n(47),f=n(42),h=n(14),p=(n(197),n(33)),g=n.n(p),b=n(61),E=n.n(b),y=(n(134),n(135),n(393)),v=n(395),k=n(52);E.a.locale("vi");var O=function(){var e=Object(a.useState)([]),t=Object(h.a)(e,2),n=t[0],o=t[1],l=Object(a.useState)(null),r=Object(h.a)(l,2),i=r[0],s=r[1],u=Object(a.useState)([]),m=Object(h.a)(u,2),f=m[0],p=m[1],b=Object(a.useState)(null),O=Object(h.a)(b,2),j=O[0],S=O[1],C=Object(a.useState)(null),w=Object(h.a)(C,2),_=w[0],x=w[1],L=Object(a.useState)(null),I=Object(h.a)(L,2),D=I[0],z=I[1],B=y.a.useForm(),M=Object(h.a)(B,1)[0];return c.a.createElement("div",{className:"App"},c.a.createElement("h1",null,c.a.createElement(d.b,{to:"/"},"Comment Delete Tool")),c.a.createElement("p",null,"Powered by Maximu\u0161ss - Leauge Of Legends Support Semi-pro player."),n.name?c.a.createElement("div",null,c.a.createElement(y.a,{form:M,style:{display:"flex",justifyContent:"center"}},c.a.createElement(y.a.Item,{label:"Facebook post URL"},c.a.createElement(v.a,{name:"post",onChange:function(e){z(e.target.value)},placeholder:"Post URL"}))," ",c.a.createElement(y.a.Item,null,c.a.createElement(k.a,{type:"primary",onClick:function(e){e.preventDefault();var t=D.split("/");console.log(t),S(t[3]),x(t[5]),e.preventDefault(),g.a.get("https://graph.facebook.com/v6.0/".concat(t[3],"_").concat(t[5],"?access_token=").concat(i)).then((function(e){console.log(e.data),p(e.data),console.log(f)})).catch((function(e){console.log(e)})),g.a.get("https://graph.facebook.com/v6.0/".concat(t[3],"?fields=access_token&access_token=").concat(i)).then((function(e){console.log(e.data.access_token),s(e.data.access_token)})).catch((function(e){console.log(e)}))}},"Submit"))),f.message?c.a.createElement("div",null,c.a.createElement("h3",null,f.message),c.a.createElement("h3",null,E()(f.created_time).format("LLLL")),c.a.createElement(d.b,{to:{pathname:"/post/".concat(_),state:{id:"".concat(j,"_").concat(_),access_token:i}}},"Ch\u1ea1y")):""):c.a.createElement("div",null,c.a.createElement(y.a,{form:M,style:{display:"flex",justifyContent:"center"}},c.a.createElement(y.a.Item,{label:"Copy your Access Token from BM source code:"},c.a.createElement(v.a,{name:"post",onChange:function(e){s(e.target.value),console.log(e.target.value)},placeholder:"Nh\u1eadp access token"})),c.a.createElement(y.a.Item,null,c.a.createElement(k.a,{type:"primary",onClick:function(e){e.preventDefault(),g.a.get("https://graph.facebook.com/v6.0/me?access_token=".concat(i)).then((function(e){console.log(e.data),o(e.data)}))}},"Submit"))),c.a.createElement("b",null,"L\u01b0u \xfd: M\xe3 truy c\u1eadp trang & c\xe1 nh\xe2n s\u1ebd \u0111\u01b0\u1ee3c reset m\u1ed7i l\u1ea7n \u0111\u0103ng nh\u1eadp. V\xe0o ",c.a.createElement("a",{rel:"noopener noreferrer",href:"https://han-tools.com/fb-ca/access-token-how",target:"_blank"},"\u0111\xe2y")," ","\u0111\u1ec3 xem c\xe1ch l\u1ea5y token cho BM. (c\u1ea3m \u01a1n ch\u1ecb K\u1ef3 \u0111\xe3 g\u1ee3i \xfd)")))},j=n(189),S=n(54),C=n(76),w=n(390),_=n(394),x=n(391),L=n(392),I=function(e){var t=e.id,n=e.token,o=Object(a.useState)(!0),l=Object(h.a)(o,2),r=l[0],i=l[1],s=Object(a.useState)([]),u=Object(h.a)(s,2),m=u[0],f=u[1],p=Object(a.useState)(null),b=Object(h.a)(p,2),v=b[0],O=b[1],I=Object(a.useState)(!1),D=Object(h.a)(I,2),z=D[0],B=D[1],M=Object(a.useState)([]),N=Object(h.a)(M,2),K=N[0],R=N[1],T=Object(a.useState)([]),A=Object(h.a)(T,2),P=A[0],F=A[1],W=Object(a.useState)([]),J=Object(h.a)(W,2),U=J[0],X=J[1],V=y.a.useForm(),$=Object(h.a)(V,1)[0];Object(a.useEffect)((function(){g.a.get("https://graph.facebook.com/v6.0/".concat(t,"/comments?access_token=").concat(n)).then((function(e){F(e.data.data)})),console.log("Loading d\u1eef li\u1ec7u")}),[]);var q=function(){var e=[],t=function(t){K.includes(K.find((function(e){return e.id===m[t].id})))||0===m.length?e.push(0):e.push(1)};for(var a in m)t(a);if(e.every((function(e){return 1===e}))){for(var c=function(e){g.a.delete("https://graph.facebook.com/v6.0/".concat(m[e].id,"?access_token=").concat(n)).then((function(t){!function(e){F(P.filter((function(t){return t.id!==e})))}(m[e].id)})).catch((function(e){console.log("X\xf3a th\u1ea5t b\u1ea1i"),console.log(e)}))},o=0;o<m.length;o++)c(o);console.log("X\xf3a th\xe0nh c\xf4ng")}else alert("Kh\xf4ng th\u1ec3 x\xf3a nh\u1eefng comments \u0111\xe3 kh\xf3a")},G={onChange:function(e,t){t.length>0?(i(!1),f(t)):i(!0)},getCheckboxProps:function(e){return{name:e.name}}},H=c.a.createElement(y.a,{form:$},c.a.createElement(y.a.Item,{label:"Th\u1eddi gian"},c.a.createElement(C.a,{onChange:function(e){O(e)},style:{width:100}},c.a.createElement(C.a.Option,{value:"5000"},"5 gi\xe2y"),c.a.createElement(C.a.Option,{selected:!0,value:"10000"},"10 seconds"),c.a.createElement(C.a.Option,{value:"30000"},"30 seconds"),c.a.createElement(C.a.Option,{value:"60000"},"1 minute"),c.a.createElement(C.a.Option,{value:"300000"},"5 minutes"))),c.a.createElement(w.a,null),c.a.createElement(k.a,{type:"danger",size:"middle",style:{marginRight:10},onClick:function(){return i(!0),B(!0),X((function(e){return[].concat(Object(S.a)(e),["Ready to run automation, ".concat(v," ms per frame")])})),void setInterval((function(){X((function(e){return[].concat(Object(S.a)(e),["Start running"])}));var e=[];g.a.get("https://graph.facebook.com/v6.0/".concat(t,"/comments?access_token=").concat(n)).then((function(t){if(F(t.data.data),t.data.data.length===K.length)X((function(e){return[].concat(Object(S.a)(e),["Nothing to delete, prepare for the next run."])}));else{for(var a=function(n){K.includes(K.find((function(e){return e.id===t.data.data[n].id})))||e.push(t.data.data[n])},c=0;c<t.data.data.length;c++)a(c);X((function(t){return[].concat(Object(S.a)(t),["Identify ".concat(e.length," comments need to be deleted")])})),e.forEach((function(a){g.a.delete("https://graph.facebook.com/v6.0/".concat(a.id,"?access_token=").concat(n)).then((function(n){X((function(e){return[].concat(Object(S.a)(e),["Deleted successfully"])})),F(t.data.data),e=e.filter((function(e){return e.id!==a.id}))})).catch((function(e){X((function(e){return[].concat(Object(S.a)(e),["Error while deleting!!"])})),console.log(e)}))}))}}))}),v)}},"Start"),c.a.createElement(k.a,{type:"ghost",size:"middle",onClick:function(){return alert("Cancel auto successfully"),void window.location.replace("/xoacoment")}},"Cancel")),Q=c.a.createElement("h2",null,"Configuration"),Y=[{title:"Comment ID",dataIndex:"id",key:"id"},{title:"Created time",key:"created_time",render:function(e,t){return c.a.createElement("span",null,E()(t.created_time).format("LLLL"))}},{title:"Message",key:"message",dataIndex:"message"}],Z=_.a.Title;return c.a.createElement("div",null,c.a.createElement(k.a,{style:{margin:12},type:"primary",size:"large",disabled:r,onClick:function(){return q()}},"Delete"),c.a.createElement(k.a,{style:{margin:12,backgroundColor:r?"#f7f7f7":"green",color:r?"#cccccc":"white"},type:"primary",size:"large",disabled:r,onClick:function(){R(m),f([]),i(!0)}},"Keep"),c.a.createElement(x.a,{title:Q,content:H,trigger:"click",placement:"bottom"},c.a.createElement(k.a,{style:{margin:10},type:"danger",size:"large"},"Auto delete")),c.a.createElement(d.b,{style:{fontSize:20,fontWeight:400,marginLeft:10},to:"/"},"Back to homepage"),c.a.createElement(L.a,{rowSelection:Object(j.a)({type:"checkbox"},G),dataSource:P,columns:Y,rowKey:"id",title:function(){return"Post ".concat(t," comments management")},footer:function(){return"This list includes ".concat(P.length," comments")}}),z?c.a.createElement("div",{className:"status-board",style:{margin:10,width:600}},c.a.createElement(Z,{type:"warning",style:{fontSize:18}},"Auto Running Status"),c.a.createElement("div",{className:"status",style:{fontSize:15,backgroundColor:"gainsboro",display:"flex",flexDirection:"column"}},U.map((function(e){return c.a.createElement("code",{style:{padding:10}},e)})))):c.a.createElement("p",null),c.a.createElement("div",{class:"auto-section"},c.a.createElement("div",{className:"keep-id"},K.length>0?c.a.createElement("div",{style:{margin:20}},c.a.createElement(L.a,{dataSource:K,columns:Y,rowKey:"id",title:function(){return"Danh s\xe1ch c\xe1c comment gi\u1eef l\u1ea1i"},footer:function(){return"Bao g\u1ed3m ".concat(K.length," comments")}})):c.a.createElement("p",null))))},D=function(e){function t(){return Object(r.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){console.log(this.props.location.state.access_token)}},{key:"render",value:function(){return c.a.createElement("div",null,c.a.createElement(I,{id:this.props.location.state.id,token:this.props.location.state.access_token}))}}]),t}(a.Component),z=function(e){function t(){return Object(r.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return c.a.createElement(d.a,{basename:window.location.pathname||""},c.a.createElement(f.c,null,c.a.createElement(f.a,{path:"/",exact:!0,component:O}),c.a.createElement(f.a,{path:"/post/:id",component:D})))}}]),t}(a.Component);l.a.render(c.a.createElement(z,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[191,1,2]]]);
//# sourceMappingURL=main.f866f355.chunk.js.map